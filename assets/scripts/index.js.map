{"version":3,"sources":["scripts/index.js"],"names":["$","fullpage","css3","anchors","menu","afterLoad","anchorLink","index","hasClass","setTimeout","addClass","toChange","onLeave","direction","toDecimal","x","f","parseFloat","isNaN","Math","round","s","toString","rs","indexOf","length","find","each","i","v","prop","animate","Counter","text","duration","easing","step","now","ceil","on","eq","siblings","removeClass","shakeAnimation","dom","mouseenter","thisPX","offset","left","thisPY","top","boxWidth","outerWidth","boxHeight","outerHeight","mousemove","event","mouseX","pageX","mouseY","pageY","X","Y","css","mouseleave"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n  $('#fullpage').fullpage({\r\n    css3: true,\r\n    anchors: ['homepage', 'energysave', 'innovation', 'partner', 'aboutus'],\r\n    menu: \".menu\",\r\n    afterLoad: function (anchorLink, index) {\r\n      //首屏幕的动画\r\n      if (!$('.homepage').hasClass('on')) {\r\n        setTimeout(function () {\r\n          $('.homepage').addClass('on')\r\n        }, 2000)\r\n      }\r\n      toChange(index)\r\n    },\r\n    onLeave: function (index, direction) {\r\n      // console.log('离开', index, direction)\r\n    }\r\n  });\r\n \r\n  function toDecimal(x) {\r\n    var f = parseFloat(x);\r\n    if (isNaN(f)) {\r\n      return false;\r\n    }\r\n    var f = Math.round(x * 10) / 10;\r\n    var s = f.toString();\r\n    var rs = s.indexOf('.');\r\n    if (rs < 0) {\r\n      rs = s.length;\r\n    }\r\n    return s;\r\n  }\r\n  //每屏首次加载后执行的函数\r\n  function toChange(index) {\r\n    switch (index) {\r\n      case 2:\r\n        if (!$('.energysave').hasClass('on')) {\r\n          $('.energysave')\r\n            .addClass('on')\r\n            .find('li b').each(function (i, v) {\r\n              $(this).prop('Counter', 0).animate({\r\n                Counter: $(this).text()\r\n              }, {\r\n                duration: 2000,\r\n                easing: 'swing',\r\n                step: i == 2 ? function (now) {\r\n                  $(this).text(toDecimal(now));\r\n                } : function (now) {\r\n                  $(this).text(Math.ceil(now));\r\n                }\r\n              });\r\n            });\r\n        }\r\n        break;\r\n      case 3:\r\n        if (!$('.innovation').hasClass('on')) {\r\n          $('.innovation').addClass('on')\r\n        }\r\n        break;\r\n      case 4:\r\n        if (!$('.partner').hasClass('on')) {\r\n          $('.partner').addClass('on')\r\n        }\r\n        break;\r\n      case 5:\r\n        if (!$('.aboutus').hasClass('on')) {\r\n          $('.aboutus').addClass('on')\r\n        }\r\n        break;\r\n    }\r\n  }\r\n  //创新科技四个气泡框选择\r\n  $('#fourbubble').on('click', 'li', function () {\r\n    var index = $(this).index()\r\n    $('#fourcontent span').animate({\r\n      'left': 12.5 + 25 * index + '%'\r\n    }, 100)\r\n    $('#fourcontent p').eq(index).addClass('on').siblings('p').removeClass('on')\r\n  })\r\n\r\n  //图片微交互\r\n  function shakeAnimation(dom) {\r\n    $(dom).mouseenter(function () {\r\n      var thisPX = $(this).offset().left;\r\n      var thisPY = $(this).offset().top;\r\n      var boxWidth = $(this).outerWidth();\r\n      var boxHeight = $(this).outerHeight();\r\n      $(this).mousemove(function (event) {\r\n        var mouseX = event.pageX - thisPX;\r\n        var mouseY = event.pageY - thisPY;\r\n        var X;\r\n        var Y;\r\n        if (mouseX > boxWidth / 2) {\r\n          X = mouseX - boxWidth / 2;\r\n        } else {\r\n          X = mouseX - boxWidth / 2;\r\n        }\r\n        if (mouseY > boxHeight / 2) {\r\n          Y = boxHeight / 2 - mouseY;\r\n        } else {\r\n          Y = boxHeight / 2 - mouseY;\r\n        }\r\n\r\n        $(this).find('img').each((i, v) => {\r\n          var s = i % 2 === 0 ? (10 + 10 * i) : (10 + 10 * i)\r\n          $(v).css({\r\n            \"transform\": \"translateY(\" + X / s + \"px) \" + \"translateX(\" + Y / s + \"px) \"\r\n          })\r\n        })\r\n      });\r\n    });\r\n    $(dom).mouseleave(function () {\r\n      $(this).css({\r\n        \"transform\": \"rotateY(0deg) rotateX(0deg)\"\r\n      });\r\n    });\r\n  }\r\n  shakeAnimation('aside')\r\n\r\n})"]}
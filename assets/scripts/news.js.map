{"version":3,"sources":["scripts/news.js"],"names":["$","ajax","url","type","dataType","data","res","count","console","results","forEach","v","i","a","summary","length","page","title","getnews","created_time","replace","html"],"mappings":"aAAAA,EAAA,WAIAA,EAAAC,KAAA,CADAC,IAAA,uDACAF,KAAAA,MACAE,SAAAA,OACAC,KAAAA,KACAC,KAAAA,SAAAA,GAHA,GAIAC,QAAAA,IAAAA,GAJA,EAAAC,EAAAC,MAAA,CAMAC,IAAAA,EAAAA,GACAF,EAAAG,QAAAC,QAAA,SAAAC,EAAAC,GACA,IAAAC,EAAA,GAAAF,EAAAG,QAAAC,OAAA,MAAA,GACAT,GAAAA,8DAEAU,EAAAA,GAFAV,qEAgBAN,EAAAA,UAhBAM,0FAmBAK,EAAAM,MAnBAX,8BAoBAY,EAAAA,QAAAA,OAAAA,EAAAA,IAAAA,GApBAZ,+BAqBAK,EAAAQ,aAAAC,QAAA,IAAA,gBArBAd,qEAgBAN,EAAA,cAAAqB,KAAAL","file":"news.js","sourcesContent":["$(function () {\r\n  //请求到的信息列表\r\n\r\n  function getnews() {\r\n    $.ajax({\r\n      url: 'http://test.oms.hwariot.com/api/v1/news/?page_size=4',\r\n      type: 'GET',\r\n      dataType: \"json\",\r\n      data: {},\r\n    }).done(res => {\r\n      console.log(res)\r\n      if (res.count > 0) {\r\n        var page ='';\r\n        res.results.forEach((v,i)=>{\r\n          var a = v.summary.length > 40 ? \"...\" : \"\";\r\n          page +=`\r\n          <li>\r\n            <a href=\"/@/newsdetail.html?id=${v.id}\">\r\n              <div class=\"imgbox\">\r\n                <img src=\"${v.image_url}\" alt=\"\">\r\n              </div>\r\n              <div class=\"text\">\r\n                <h3>${v.title}</h3>\r\n                <p>${v.summary.substr(0, 40)+a}</p>\r\n                <span>${v.created_time.replace('T','&nbsp;&nbsp;')}</span>\r\n              </div>\r\n            </a>\r\n          </li>`\r\n        })\r\n        $('#news-list').html(page)\r\n      }\r\n    })\r\n  }\r\n  getnews()\r\n})"]}
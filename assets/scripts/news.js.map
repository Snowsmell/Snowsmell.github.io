{"version":3,"sources":["scripts/news.js"],"names":["$","getnews","ajax","url","type","dataType","data","done","console","log","res","count","page","results","forEach","v","i","a","summary","length","id","image_url","title","substr","created_time","html"],"mappings":";;AAAAA,EAAA,YAAA;AACA;;AAEA,WAAAC,OAAA,GAAA;AACAD,MAAAE,IAAA,CAAA;AACAC,WAAA,sDADA;AAEAC,YAAA,KAFA;AAGAC,gBAAA,MAHA;AAIAC,YAAA;AAJA,KAAA,EAKAC,IALA,CAKA,eAAA;AACAC,cAAAC,GAAA,CAAAC,GAAA;AACA,UAAAA,IAAAC,KAAA,GAAA,CAAA,EAAA;AACA,YAAAC,OAAA,EAAA;AACAF,YAAAG,OAAA,CAAAC,OAAA,CAAA,UAAAC,CAAA,EAAAC,CAAA,EAAA;AACA,cAAAC,IAAAF,EAAAG,OAAA,CAAAC,MAAA,GAAA,EAAA,GAAA,KAAA,GAAA,EAAA;AACAP,kFAEAG,EAAAK,EAFA,0EAIAL,EAAAM,SAJA,+FAOAN,EAAAO,KAPA,mCAQAP,EAAAG,OAAA,CAAAK,MAAA,CAAA,CAAA,EAAA,EAAA,IAAAN,CARA,qCASAF,EAAAS,YATA;AAaA,SAfA;AAgBAxB,UAAA,YAAA,EAAAyB,IAAA,CAAAb,IAAA;AACA;AACA,KA3BA;AA4BA;AACAX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAxDA","file":"news.js","sourcesContent":["$(function () {\r\n  //请求到的信息列表\r\n\r\n  function getnews() {\r\n    $.ajax({\r\n      url: 'http://test.oms.hwariot.com/api/v1/news/?page_size=4',\r\n      type: 'GET',\r\n      dataType: \"json\",\r\n      data: {},\r\n    }).done(res => {\r\n      console.log(res)\r\n      if (res.count > 0) {\r\n        var page ='';\r\n        res.results.forEach((v,i)=>{\r\n          var a = v.summary.length > 40 ? \"...\" : \"\";\r\n          page +=`\r\n          <li>\r\n            <a href=\"/@/newsdetail.html?id=${v.id}\">\r\n              <div class=\"imgbox\">\r\n                <img src=\"${v.image_url}\" alt=\"\">\r\n              </div>\r\n              <div class=\"text\">\r\n                <h3>${v.title}</h3>\r\n                <p>${v.summary.substr(0, 40)+a}</p>\r\n                <span>${v.created_time}</span>\r\n              </div>\r\n            </a>\r\n          </li>`\r\n        })\r\n        $('#news-list').html(page)\r\n      }\r\n    })\r\n  }\r\n  getnews()\r\n  // 暂时方便用的\r\n  // var context = ''\r\n  // var newsItem =\r\n  //   `     \r\n  //   <li>\r\n  //     <a href=\"/@/newsdetail.html\">\r\n  //       <div class=\"imgbox\">\r\n  //         <img src=\"/@@/images/news/news1.jpg\" alt=\"\">\r\n  //       </div>\r\n  //       <div class=\"text\">\r\n  //         <h3>华瑞物联APP1.0成功上线</h3>\r\n  //         <p>中小微企业为中国经济发展做出了巨大贡献，由由于种种原因，中小微企业...</p>\r\n  //         <span>2018-02-06  12：34</span>\r\n  //       </div>\r\n  //     </a>\r\n  //   </li>\r\n  // `\r\n  // for (let i = 0; i < 9; i++) {\r\n  //   context += newsItem\r\n  // }\r\n  // $('#news-list').html(context)\r\n\r\n})"]}
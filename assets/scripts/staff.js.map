{"version":3,"sources":["scripts/staff.js"],"names":["$","url","type","dataType","data","res","count","console","results","forEach","v","i","a","summary","length","page","clipimg","substr","created_time","html","done","each","parentNode","css","height","width"],"mappings":"aAAAA,EAAA,WAAAA,EAAAA,KAAAA,CACAC,IAAA,uDACAD,KAAAA,MACAC,SAAAA,OACAC,KAAAA,KACAC,KAAAA,SAAAA,GAHA,GAIAC,QAAAA,IAAAA,GAJA,EAAAC,EAAAC,MAAA,CAMAC,IAAAA,EAAAA,GACAF,EAAAG,QAAAC,QAAA,SAAAC,EAAAC,GACA,IAAAC,EAAA,GAAAF,EAAAG,QAAAC,OAAA,MAAA,GACAT,GAAAA,+DAEAU,EAAAA,GAFAV,0EAgBAL,EAAAA,UAhBAK,gGAmBAW,EAAAA,MAnBAX,8BAoBAK,EAAAG,QAAAI,OAAA,EAAA,IAAAL,GApBAP,+BAqBAK,EAAAQ,aArBAb,qEAwBAL,EAAA,eAAAmB,KAAAJ,MAIAK,KAAA,SAAAf,GALAL,EAAA,mBAAAqB,KAAA,SAAAV,EAAAD,GACAV,EAAAU,EAAAY,YAAAC,IAAA,CACAC,OAAA,IAAAxB,EAAAU,GAAAe","file":"staff.js","sourcesContent":["$(function () {\r\n  function getstaffs() {\r\n    $.ajax({\r\n      url: 'http://test.oms.hwariot.com/api/v1/staff-style-list/',\r\n      type: 'GET',\r\n      dataType: \"json\",\r\n      data: {}\r\n    }).done(res => {\r\n      console.log(res)\r\n      if (res.count > 0) {\r\n        var page ='';\r\n        res.results.forEach((v,i)=>{\r\n          var a = v.summary.length > 40 ? \"...\" : \"\";\r\n          page +=`\r\n          <li>\r\n            <a href=\"/@/staffdetail.html?id=${v.id}\">\r\n              <div class=\"imgbox\">\r\n                <div><img src=\"${v.image_url}\" alt=\"\"></div>\r\n              </div>\r\n              <div class=\"text\">\r\n                <h3>${v.title}</h3>\r\n                <p>${v.summary.substr(0, 40)+a}</p>\r\n                <span>${v.created_time}</span>\r\n              </div>\r\n            </a>\r\n          </li>`\r\n        })\r\n        $('#staff-list').html(page)\r\n      }\r\n    }).done(res =>{\r\n      clipimg()\r\n    })\r\n  }\r\n  function clipimg() {\r\n    $('#staff-list img').each(function (i, v) {\r\n      $(v.parentNode).css({\r\n        'height': $(v).width() * 0.66\r\n      })\r\n    })\r\n  }\r\n  getstaffs()\r\n})"]}
{"version":3,"sources":["scripts/index.js"],"names":["$","dom","fullpage","css3","anchors","afterLoad","setTimeout","addClass","index","hasClass","Counter","duration","easing","step","x","f","parseFloat","isNaN","s","Math","round","toString","rs","indexOf","length","now","toChange","this","left","thisPX","offset","thisPY","top","boxWidth","outerWidth","boxHeight","outerHeight","X","Y","mouseX","event","pageX","mouseY","pageY","i","transform","css"],"mappings":"aAAAA,EAAA,WAiFA,IAAAC,EAhFAD,EAAA,aAAAE,SAAA,CADAF,MAAAA,EACAA,QAAAA,CAAAA,WAAAA,aAAAA,aAAAA,UAAAA,WACAG,KAAAA,QACAC,UAAAA,SAAAA,EAAAA,GAEAC,EAAAA,aAAAA,SAAAA,OACAC,WAAA,WACAN,EAAA,aAAAO,SAAA,OACAD,KAuBA,SAAAE,GACA,OAAAA,GACA,KAAA,EACAR,EAAA,eAAAS,SAAA,OACAT,EAAA,eACAO,SAAA,MACAP,KAAAA,QAAAA,KAAAA,SAAAA,EAAAA,GAGAA,EAAAA,MAAAA,KAAAA,UAAAA,GAAAA,QAAAA,CACAU,QAAAA,EAAAA,MAAAA,QADA,CAGAC,SAAAA,IACAC,OAAAA,QACAC,KAAAA,GAAAA,EAAAA,SAAAA,GACAb,EAAAA,MAAAA,KA7CA,SAAAc,GAmBA,IAAAC,EAAAC,WAAAF,GADA,GAAAG,MAAAF,GACA,OAAA,EAEA,IACAG,GADAH,EAAAI,KAAAC,MAAA,GAAAN,GAAA,IACAO,WACAC,EAAAJ,EAAAK,QAAA,KACAD,EAAA,IACAA,EAAAJ,EAAAM,QAEAF,OAAAA,EAkBAtB,CAAAA,KACA,SAAAyB,GACAzB,EAAAA,MAAAA,KAAAA,KAAAA,KAAAA,SAKA,MACA,KAAA,EACAA,EAAA,eAAAS,SAAA,OACAT,EAAAA,eAAAA,SAAAA,MAEA,MACA,KAAA,EACAA,EAAA,YAAAS,SAAA,OACAT,EAAAA,YAAAA,SAAAA,MAEA,MACA,KAAA,EACAA,EAAA,YAAAS,SAAA,OACAT,EAAAA,YAAAA,SAAAA,OAxDA0B,CAAAlB,IAEAkB,QAAAA,SAAAA,EAAAA,OA4DA1B,EAAAA,eAAAA,GAAAA,QAAAA,KAAAA,WACA,IAAAQ,EAAAR,EAAA2B,MAAAnB,QACAR,EAAAA,qBAAAA,QAAAA,CACA4B,KAAA,KAAA,GAAApB,EAAA,KADA,KAGAR,EAAAA,kBAAAA,GAAAA,GAAAA,SAAAA,MAAAA,SAAAA,KAAAA,YAAAA,QAIAC,EA2CA,QA1CAD,EAAAA,GAAAA,WAAAA,WACA,IAAA6B,EAAA7B,EAAA2B,MAAAG,SAAAF,KACAG,EAAA/B,EAAA2B,MAAAG,SAAAE,IACAC,EAAAjC,EAAA2B,MAAAO,aACAC,EAAAnC,EAAA2B,MAAAS,cACApC,EAAAA,MAAAA,UAAAA,SAAAA,GACA,IAEAqC,EACAC,EAHAC,EAAAC,EAAAC,MAAAZ,EACAa,EAAAF,EAAAG,MAAAZ,EAIAM,EAAAA,EAAAA,EAAAA,EAKAC,EAAAA,EAAAA,EAAAA,EAKAtC,EAAAA,MAAAA,KAAAA,OAAAA,KAAAA,SAAAA,EAAAA,GACA,IAAAkB,EAAA,GAAA,GAAA0B,EACA5C,EAAAA,GAAAA,IAAAA,CACA6C,UAAA,cAAAR,EAAAnB,EAAA,kBAAAoB,EAAApB,EAAA,eAWAlB,EAAAA,GAAAA,WAAAA,WACAA,EAAA2B,MAAAmB,IAAA,CADAD,UAAA","file":"index.js","sourcesContent":["$(function () {\r\n  $('#fullpage').fullpage({\r\n    css3: true,\r\n    anchors: ['homepage', 'energysave', 'innovation', 'partner', 'aboutus'],\r\n    menu: \".menu\",\r\n    afterLoad: function (anchorLink, index) {\r\n      //首屏幕的动画\r\n      if (!$('.homepage').hasClass('on')) {\r\n        setTimeout(function () {\r\n          $('.homepage').addClass('on')\r\n        }, 2000)\r\n      }\r\n      toChange(index)\r\n    },\r\n    onLeave: function (index, direction) {\r\n      // console.log('离开', index, direction)\r\n    }\r\n  });\r\n\r\n  function toDecimal(x) {\r\n    var f = parseFloat(x);\r\n    if (isNaN(f)) {\r\n      return false;\r\n    }\r\n    var f = Math.round(x * 10) / 10;\r\n    var s = f.toString();\r\n    var rs = s.indexOf('.');\r\n    if (rs < 0) {\r\n      rs = s.length;\r\n    }\r\n    return s;\r\n  }\r\n  //每屏首次加载后执行的函数\r\n  function toChange(index) {\r\n    switch (index) {\r\n      case 2:\r\n        if (!$('.energysave').hasClass('on')) {\r\n          $('.energysave')\r\n            .addClass('on')\r\n            .find('li b').each(function (i, v) {\r\n              $(this).prop('Counter', 0).animate({\r\n                Counter: $(this).text()\r\n              }, {\r\n                duration: 2000,\r\n                easing: 'swing',\r\n                step: i == 2 ? function (now) {\r\n                  $(this).text(toDecimal(now));\r\n                } : function (now) {\r\n                  $(this).text(Math.ceil(now));\r\n                }\r\n              });\r\n            });\r\n        }\r\n        break;\r\n      case 3:\r\n        if (!$('.innovation').hasClass('on')) {\r\n          $('.innovation').addClass('on')\r\n        }\r\n        break;\r\n      case 4:\r\n        if (!$('.partner').hasClass('on')) {\r\n          $('.partner').addClass('on')\r\n        }\r\n        break;\r\n      case 5:\r\n        if (!$('.aboutus').hasClass('on')) {\r\n          $('.aboutus').addClass('on')\r\n        }\r\n        break;\r\n    }\r\n  }\r\n  //创新科技四个气泡框选择\r\n  $('#fourbubble').on('click', 'li', function () {\r\n    var index = $(this).index()\r\n    $('#fourcontent span').animate({\r\n      'left': 12.5 + 25 * index + '%'\r\n    }, 100)\r\n    $('#fourcontent p').eq(index).addClass('on').siblings('p').removeClass('on')\r\n  })\r\n\r\n  //图片微交互\r\n  function shakeAnimation(dom) {\r\n    $(dom).mouseenter(function () {\r\n      var thisPX = $(this).offset().left;\r\n      var thisPY = $(this).offset().top;\r\n      var boxWidth = $(this).outerWidth();\r\n      var boxHeight = $(this).outerHeight();\r\n      $(this).mousemove(function (event) {\r\n        var mouseX = event.pageX - thisPX;\r\n        var mouseY = event.pageY - thisPY;\r\n        var X;\r\n        var Y;\r\n        if (mouseX > boxWidth / 2) {\r\n          X = mouseX - boxWidth / 2;\r\n        } else {\r\n          X = mouseX - boxWidth / 2;\r\n        }\r\n        if (mouseY > boxHeight / 2) {\r\n          Y = boxHeight / 2 - mouseY;\r\n        } else {\r\n          Y = boxHeight / 2 - mouseY;\r\n        }\r\n\r\n        $(this).find('img').each((i, v) => {\r\n          var s = i % 2 === 0 ? (10 + 10 * i) : (10 + 10 * i)\r\n          $(v).css({\r\n            \"transform\": \"translateY(\" + X / s + \"px) \" + \"translateX(\" + Y / s + \"px) \"\r\n          })\r\n        })\r\n\r\n        // $(this).css({\r\n        //   \"transform\": \"translateY(\"+X/20+\"px) \" +\"translateX(\"+Y/20+\"px) \"\r\n        // });\r\n\r\n      });\r\n    });\r\n    $(dom).mouseleave(function () {\r\n      $(this).css({\r\n        \"transform\": \"rotateY(0deg) rotateX(0deg)\"\r\n      });\r\n    });\r\n  }\r\n  shakeAnimation('aside')\r\n\r\n})"]}